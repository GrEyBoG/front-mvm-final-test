{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{ReactDOM}from\"react-dom\";import{Route,Routes}from'react-router-dom';import{BrowserRouter}from'react-router-dom';//Styles\nimport style from'../styles/managerPage/table.css';//Component\nimport{Header}from\"../managerComponents/Header\";import{Background}from\"../managerComponents/Background\";import{Table}from\"../managerComponents/Table\";import{Description}from\"../managerComponents/Description\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ManagerPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),descriptionValue=_useState2[0],setValueDescription=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),settledValue=_useState4[0],setSettled=_useState4[1];//API-GET-RESPONSIBLES\nvar recordsResponsiblesData=[];var urlResponsibleList='http://localhost:5000/action/list/responsible';var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),responsibleRecords=_useState6[0],setResponsibleRecords=_useState6[1];var fetchApiResponsibleList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(urlResponsibleList);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setResponsibleRecords(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchApiResponsibleList(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchApiResponsibleList();},[]);var responsibleSeted='';responsibleRecords&&responsibleRecords['data']['recordsets'][0].map(function(record){recordsResponsiblesData.push(record);});recordsResponsiblesData.push({IDResponsable:null,CorreoResponsable:'Unasignned'});recordsResponsiblesData.unshift({'CorreoResponsable':responsibleSeted});//API-GET-RERQUEST\nvar recordsRequestData=[];var urlRequestList='http://localhost:5000/action/list/request';var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),requestRecords=_useState8[0],setRequestRecords=_useState8[1];var fetchApiRequestList=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(urlRequestList);case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;setRequestRecords(data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchApiRequestList(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchApiRequestList();},[]);requestRecords&&requestRecords['data']['recordsets'][0].map(function(record){recordsRequestData.push(record);});recordsRequestData.map(function(record){if(record.IDEstado===1){record.IDEstado='Pending';}else if(record.IDEstado===2){record.IDEstado='Assigned';}else if(record.IDEstado===3){record.IDEstado='Resolved';}if(record.FechaRespuesta!=null){record.FechaRespuesta=record.FechaRespuesta;record.FechaRespuesta=record.FechaRespuesta.substring(0,10);}record.FechaSolicitud=record.FechaSolicitud.substring(0,10);if(record.IdTipoSolicitud===1){record.IdTipoSolicitud='PQRS';}else if(record.IdTipoSolicitud===2){record.IdTipoSolicitud='News';}else if(record.IdTipoSolicitud===3){record.IdTipoSolicitud='Developments';}if(record.IDResponsable===4){record.IDResponsable='Developer';}else if(record.IDResponsable===5){record.IDResponsable='Support';}else if(record.IDResponsable===6){record.IDResponsable='PQRS';}else{record.IDResponsable='Unassigned';}});return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Background,{}),/*#__PURE__*/_jsx(Table,{setSettled:setSettled,setValueDescription:setValueDescription,requestData:recordsRequestData,responsibleData:recordsResponsiblesData,responsibleSeted:responsibleSeted}),/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"/description\",element:/*#__PURE__*/_jsx(Description,{descriptionValue:descriptionValue,settledValue:settledValue})})})]});}export{ManagerPage};","map":{"version":3,"names":["React","useEffect","useState","ReactDOM","Route","Routes","BrowserRouter","style","Header","Background","Table","Description","ManagerPage","descriptionValue","setValueDescription","settledValue","setSettled","recordsResponsiblesData","urlResponsibleList","responsibleRecords","setResponsibleRecords","fetchApiResponsibleList","fetch","response","json","data","responsibleSeted","map","record","push","IDResponsable","CorreoResponsable","unshift","recordsRequestData","urlRequestList","requestRecords","setRequestRecords","fetchApiRequestList","IDEstado","FechaRespuesta","substring","FechaSolicitud","IdTipoSolicitud"],"sources":["C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/src/views/managerPage.js"],"sourcesContent":["import React, {useEffect, useState}  from \"react\";\r\nimport { ReactDOM } from \"react-dom\";\r\nimport { Route, Routes } from 'react-router-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n//Styles\r\nimport style from '../styles/managerPage/table.css';\r\n\r\n//Component\r\n\r\nimport { Header } from \"../managerComponents/Header\";       \r\nimport { Background } from \"../managerComponents/Background\";\r\nimport { Table } from \"../managerComponents/Table\";\r\nimport { Description } from \"../managerComponents/Description\";\r\n\r\nfunction ManagerPage(){\r\n\r\n\r\n    const [descriptionValue, setValueDescription] = useState('');   \r\n\r\n    const [settledValue, setSettled] = useState('');\r\n\r\n    \r\n\r\n\r\n    //API-GET-RESPONSIBLES\r\n\r\n\r\n    const recordsResponsiblesData = [];\r\n\r\n    const urlResponsibleList = 'http://localhost:5000/action/list/responsible';\r\n\r\n    const [responsibleRecords, setResponsibleRecords] = useState(); \r\n    const fetchApiResponsibleList = async () => {\r\n        const response = await fetch(urlResponsibleList);\r\n        const data = await response.json();\r\n        setResponsibleRecords(data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchApiResponsibleList();\r\n    }, []);\r\n\r\n    const responsibleSeted = '';\r\n\r\n    responsibleRecords && responsibleRecords['data']['recordsets'][0].map((record) => {\r\n        recordsResponsiblesData.push(record);\r\n    });\r\n    recordsResponsiblesData.push({IDResponsable: null, CorreoResponsable: 'Unasignned'});\r\n\r\n    \r\n\r\n    recordsResponsiblesData.unshift({'CorreoResponsable': responsibleSeted,});\r\n\r\n    \r\n    \r\n\r\n    //API-GET-RERQUEST\r\n\r\n    const recordsRequestData = [];\r\n\r\n    const urlRequestList = 'http://localhost:5000/action/list/request';\r\n\r\n    const [requestRecords, setRequestRecords] = useState();\r\n\r\n    const fetchApiRequestList = async () => {\r\n        const response = await fetch(urlRequestList);\r\n        const data = await response.json();\r\n        setRequestRecords(data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchApiRequestList();\r\n    }, []);  \r\n\r\n    requestRecords && requestRecords['data']['recordsets'][0].map((record) => {\r\n        recordsRequestData.push(record);\r\n    });\r\n\r\n\r\n    recordsRequestData.map((record) => {\r\n\r\n\r\n        if (record.IDEstado === 1) {\r\n            record.IDEstado = ('Pending');\r\n        } else if (record.IDEstado === 2) {\r\n            record.IDEstado = ('Assigned');\r\n        } else if (record.IDEstado === 3) {\r\n            record.IDEstado = ('Resolved');\r\n        }\r\n\r\n        if (record.FechaRespuesta != null) {\r\n            record.FechaRespuesta = record.FechaRespuesta;\r\n            record.FechaRespuesta = record.FechaRespuesta.substring(0, 10);\r\n        }\r\n\r\n        record.FechaSolicitud = record.FechaSolicitud.substring(0, 10);\r\n\r\n        if (record.IdTipoSolicitud === 1){\r\n            record.IdTipoSolicitud = ('PQRS');\r\n        } else if (record.IdTipoSolicitud === 2){\r\n            record.IdTipoSolicitud = ('News');\r\n        } else if (record.IdTipoSolicitud === 3){\r\n            record.IdTipoSolicitud = ('Developments');\r\n        }\r\n\r\n        if (record.IDResponsable === 4){\r\n            record.IDResponsable = ('Developer');\r\n        } else if (record.IDResponsable === 5){\r\n            record.IDResponsable = ('Support');\r\n        } else if (record.IDResponsable === 6){\r\n            record.IDResponsable = ('PQRS');\r\n        } else {\r\n            record.IDResponsable  = ('Unassigned');\r\n        }\r\n    });\r\n\r\n\r\n\r\n    return(\r\n        <React.Fragment>\r\n\r\n\r\n                <Header />\r\n\r\n                <Background />\r\n\r\n\r\n                <Table setSettled={setSettled} setValueDescription={setValueDescription} requestData={recordsRequestData} responsibleData={recordsResponsiblesData} responsibleSeted={responsibleSeted}/>\r\n            \r\n                <Routes>\r\n\r\n                    <Route path=\"/description\" element={<Description descriptionValue={descriptionValue} settledValue={settledValue} />} />\r\n\r\n                </Routes>\r\n                \r\n\r\n\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\n\r\nexport {ManagerPage};"],"mappings":"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"},"metadata":{},"sourceType":"module"}