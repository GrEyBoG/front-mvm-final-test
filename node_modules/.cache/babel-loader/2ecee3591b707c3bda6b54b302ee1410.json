{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState}from\"react\";//style\nimport style from'../styles/customerPage/form.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Form(props){var typeRequest=props.typeRequest;var requestOptions=props.requestOptions;console.log(requestOptions);var select=function select(){return/*#__PURE__*/_jsx(\"select\",{name:\"IdTipoSolicitud\",onChange:handleInputChange,children:requestOptions.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value);})});};var _useState=useState({NombreSolicitante:\"\",ApellidoSolicitante:\"\",CorreoSolicitante:\"\",TelefonoSolicitante:'',NombreEmpresa:\"\",IdTipoSolicitud:0,Descripcion:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var handleInputChange=function handleInputChange(event){console.log(event.target.value);setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));};var post=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;event.preventDefault();console.log(JSON.stringify(form));console.log(form.Descripcion.length);if(form.IdTipoSolicitud==0){form.IdTipoSolicitud=1;}if(!(form.Descripcion.length>499)){_context.next=9;break;}alert(\"The description must be less than 500 characters\");_context.next=16;break;case 9:_context.next=11;return fetch('http://localhost:5000/action/create/request',{method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'},body:JSON.stringify(form)});case 11:response=_context.sent;_context.next=14;return response.json();case 14:result=_context.sent;alert('Request created successfully!');case 16:_context.next=22;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](0);console.log(_context.t0);alert('Something went wrong, please try again... or not');case 22:case\"end\":return _context.stop();}}},_callee,null,[[0,18]]);}));return function post(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",id:\"form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"circle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"circle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"circle\"})]}),/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",autoComplete:\"on\",onSubmit:post,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Name *\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"name\",name:\"NombreSolicitante\",required:true,minLength:3,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"email\",name:\"CorreoSolicitante\",required:true,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Company Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"text\",name:\"NombreEmpresa\",onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-right\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Last Name *\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"text\",name:\"ApellidoSolicitante\",required:true,minLength:3,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Contact Number *\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"tel\",name:\"TelefonoSolicitante\",required:true,minLength:10,pattern:\"[0-9]+\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Request Type\"}),select()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-bottom\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Describe Your Need *\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-textarea\",name:\"Descripcion\",id:\"describeYourNeed\",cols:\"30\",rows:\"10\",required:true,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"form-button-send\",children:\"Send\"})})]})]});}export{Form};","map":{"version":3,"names":["React","Fragment","useState","style","Form","props","typeRequest","requestOptions","console","log","select","handleInputChange","map","option","value","label","NombreSolicitante","ApellidoSolicitante","CorreoSolicitante","TelefonoSolicitante","NombreEmpresa","IdTipoSolicitud","Descripcion","form","setForm","event","target","name","post","preventDefault","JSON","stringify","length","alert","fetch","method","headers","body","response","json","result"],"sources":["C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/src/customerComponents/Form.js"],"sourcesContent":["import React, {Fragment, useState} from \"react\";\r\n\r\n//style\r\n\r\nimport style from '../styles/customerPage/form.css';\r\n\r\n\r\n\r\n\r\n  \r\nfunction Form(props){\r\n\r\n    const typeRequest = props.typeRequest;\r\n\r\n    const requestOptions = props.requestOptions;\r\n    console.log(requestOptions);\r\n\r\n    const select = () => {\r\n        return (<select name='IdTipoSolicitud' onChange={handleInputChange}>\r\n\r\n            {requestOptions.map((option) => (\r\n                <option key={option.value} value={option.value}>\r\n                    {option.label}\r\n                </option>\r\n            ))}\r\n\r\n        </select>)\r\n    }\r\n\r\n    const [form, setForm] = useState({\r\n        NombreSolicitante: \"\",\r\n        ApellidoSolicitante: \"\",\r\n        CorreoSolicitante: \"\",\r\n        TelefonoSolicitante: '',\r\n        NombreEmpresa: \"\",\r\n        IdTipoSolicitud: 0,\r\n        Descripcion: \"\"\r\n    });\r\n\r\n    const handleInputChange = (event) => {\r\n        console.log(event.target.value);\r\n        setForm({\r\n            ...form,\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n\r\n    const post = async (event) => {\r\n        try{\r\n            event.preventDefault();\r\n            console.log(JSON.stringify(form));\r\n\r\n            console.log(form.Descripcion.length);\r\n\r\n            if(form.IdTipoSolicitud == 0){\r\n                form.IdTipoSolicitud = 1;\r\n            }\r\n\r\n            if (form.Descripcion.length > 499){\r\n                alert(\"The description must be less than 500 characters\");\r\n            }else{\r\n\r\n                let response = await fetch('http://localhost:5000/action/create/request', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                body: JSON.stringify(form)\r\n                });\r\n\r\n                let result = await response.json();\r\n\r\n                alert('Request created successfully!');\r\n            }\r\n        }catch(error){\r\n            console.log(error);\r\n            alert('Something went wrong, please try again... or not')\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    return(\r\n        <div className='form-container' >\r\n        \r\n            <div className=\"header\" id=\"form\">\r\n\r\n                <div className=\"circle\"></div>\r\n                <div className=\"circle\"></div>\r\n                <div className=\"circle\"></div>\r\n\r\n            </div>\r\n\r\n            <form method=\"POST\"  autoComplete=\"on\" onSubmit={post}>\r\n\r\n                <div className=\"inputs-container\">\r\n\r\n                    <div className=\"form-left\">\r\n\r\n                        <label className=\"form-label\" >Name *</label>\r\n\r\n                        <input className=\"form-input\" type=\"name\" name='NombreSolicitante' required minLength={3} onChange={handleInputChange}/>\r\n\r\n                        <label className=\"form-label\">Email *</label>\r\n\r\n                        <input className=\"form-input\" type=\"email\"  name='CorreoSolicitante' required onChange={handleInputChange}/>\r\n\r\n                        <label className=\"form-label\">Company Name</label>\r\n\r\n                        <input className=\"form-input\" type=\"text\" name='NombreEmpresa'  onChange={handleInputChange}/>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"form-right\">\r\n\r\n                        <label className=\"form-label\">Last Name *</label>\r\n\r\n                        <input className=\"form-input\" type=\"text\" name='ApellidoSolicitante' required minLength={3} onChange={handleInputChange}/>\r\n\r\n                        <label className=\"form-label\">Contact Number *</label>\r\n\r\n                        <input className=\"form-input\" type=\"tel\" name='TelefonoSolicitante' required minLength={10} pattern=\"[0-9]+\" onChange={handleInputChange}/>\r\n\r\n                        <label className=\"form-label\">Request Type</label>\r\n\r\n                        {select()}\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                \r\n\r\n                <div className=\"form-bottom\">\r\n                \r\n                    <label className=\"form-label\">Describe Your Need *</label>\r\n                \r\n                    <textarea className=\"form-textarea\" name=\"Descripcion\" id=\"describeYourNeed\" cols=\"30\" rows=\"10\" required onChange={handleInputChange}></textarea>\r\n\r\n                </div>\r\n\r\n                <div className=\"form-button\">\r\n\r\n                    <button className=\"form-button-send\" >Send</button>\r\n\r\n                </div>\r\n\r\n            </form>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport {Form};"],"mappings":"+vBAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,QAAzB,KAAwC,OAAxC,CAEA;AAEA,MAAOC,MAAP,KAAkB,iCAAlB,C,wFAMA,QAASC,KAAT,CAAcC,KAAd,CAAoB,CAEhB,GAAMC,YAAW,CAAGD,KAAK,CAACC,WAA1B,CAEA,GAAMC,eAAc,CAAGF,KAAK,CAACE,cAA7B,CACAC,OAAO,CAACC,GAAR,CAAYF,cAAZ,EAEA,GAAMG,OAAM,CAAG,QAATA,OAAS,EAAM,CACjB,mBAAQ,eAAQ,IAAI,CAAC,iBAAb,CAA+B,QAAQ,CAAEC,iBAAzC,UAEHJ,cAAc,CAACK,GAAf,CAAmB,SAACC,MAAD,qBAChB,eAA2B,KAAK,CAAEA,MAAM,CAACC,KAAzC,UACKD,MAAM,CAACE,KADZ,EAAaF,MAAM,CAACC,KAApB,CADgB,EAAnB,CAFG,EAAR,CASH,CAVD,CAYA,cAAwBZ,QAAQ,CAAC,CAC7Bc,iBAAiB,CAAE,EADU,CAE7BC,mBAAmB,CAAE,EAFQ,CAG7BC,iBAAiB,CAAE,EAHU,CAI7BC,mBAAmB,CAAE,EAJQ,CAK7BC,aAAa,CAAE,EALc,CAM7BC,eAAe,CAAE,CANY,CAO7BC,WAAW,CAAE,EAPgB,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAUA,GAAMb,kBAAiB,CAAG,QAApBA,kBAAoB,CAACc,KAAD,CAAW,CACjCjB,OAAO,CAACC,GAAR,CAAYgB,KAAK,CAACC,MAAN,CAAaZ,KAAzB,EACAU,OAAO,gCACAD,IADA,wBAEFE,KAAK,CAACC,MAAN,CAAaC,IAFX,CAEkBF,KAAK,CAACC,MAAN,CAAaZ,KAF/B,GAAP,CAIH,CAND,CASA,GAAMc,KAAI,4FAAG,iBAAOH,KAAP,wJAELA,KAAK,CAACI,cAAN,GACArB,OAAO,CAACC,GAAR,CAAYqB,IAAI,CAACC,SAAL,CAAeR,IAAf,CAAZ,EAEAf,OAAO,CAACC,GAAR,CAAYc,IAAI,CAACD,WAAL,CAAiBU,MAA7B,EAEA,GAAGT,IAAI,CAACF,eAAL,EAAwB,CAA3B,CAA6B,CACzBE,IAAI,CAACF,eAAL,CAAuB,CAAvB,CACH,CATI,KAWDE,IAAI,CAACD,WAAL,CAAiBU,MAAjB,CAA0B,GAXzB,0BAYDC,KAAK,CAAC,kDAAD,CAAL,CAZC,qDAeoBC,MAAK,CAAC,6CAAD,CAAgD,CAC1EC,MAAM,CAAE,MADkE,CAE1EC,OAAO,CAAE,CACL,eAAgB,gCADX,CAFiE,CAK1EC,IAAI,CAAEP,IAAI,CAACC,SAAL,CAAeR,IAAf,CALoE,CAAhD,CAfzB,SAeGe,QAfH,sCAuBkBA,SAAQ,CAACC,IAAT,EAvBlB,SAuBGC,MAvBH,eAyBDP,KAAK,CAAC,+BAAD,CAAL,CAzBC,yFA4BLzB,OAAO,CAACC,GAAR,cACAwB,KAAK,CAAC,kDAAD,CAAL,CA7BK,qEAAH,kBAAJL,KAAI,4CAAV,CAmCA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBAEI,aAAK,SAAS,CAAC,QAAf,CAAwB,EAAE,CAAC,MAA3B,wBAEI,YAAK,SAAS,CAAC,QAAf,EAFJ,cAGI,YAAK,SAAS,CAAC,QAAf,EAHJ,cAII,YAAK,SAAS,CAAC,QAAf,EAJJ,GAFJ,cAUI,cAAM,MAAM,CAAC,MAAb,CAAqB,YAAY,CAAC,IAAlC,CAAuC,QAAQ,CAAEA,IAAjD,wBAEI,aAAK,SAAS,CAAC,kBAAf,wBAEI,aAAK,SAAS,CAAC,WAAf,wBAEI,cAAO,SAAS,CAAC,YAAjB,oBAFJ,cAII,cAAO,SAAS,CAAC,YAAjB,CAA8B,IAAI,CAAC,MAAnC,CAA0C,IAAI,CAAC,mBAA/C,CAAmE,QAAQ,KAA3E,CAA4E,SAAS,CAAE,CAAvF,CAA0F,QAAQ,CAAEjB,iBAApG,EAJJ,cAMI,cAAO,SAAS,CAAC,YAAjB,qBANJ,cAQI,cAAO,SAAS,CAAC,YAAjB,CAA8B,IAAI,CAAC,OAAnC,CAA4C,IAAI,CAAC,mBAAjD,CAAqE,QAAQ,KAA7E,CAA8E,QAAQ,CAAEA,iBAAxF,EARJ,cAUI,cAAO,SAAS,CAAC,YAAjB,0BAVJ,cAYI,cAAO,SAAS,CAAC,YAAjB,CAA8B,IAAI,CAAC,MAAnC,CAA0C,IAAI,CAAC,eAA/C,CAAgE,QAAQ,CAAEA,iBAA1E,EAZJ,GAFJ,cAkBI,aAAK,SAAS,CAAC,YAAf,wBAEI,cAAO,SAAS,CAAC,YAAjB,yBAFJ,cAII,cAAO,SAAS,CAAC,YAAjB,CAA8B,IAAI,CAAC,MAAnC,CAA0C,IAAI,CAAC,qBAA/C,CAAqE,QAAQ,KAA7E,CAA8E,SAAS,CAAE,CAAzF,CAA4F,QAAQ,CAAEA,iBAAtG,EAJJ,cAMI,cAAO,SAAS,CAAC,YAAjB,8BANJ,cAQI,cAAO,SAAS,CAAC,YAAjB,CAA8B,IAAI,CAAC,KAAnC,CAAyC,IAAI,CAAC,qBAA9C,CAAoE,QAAQ,KAA5E,CAA6E,SAAS,CAAE,EAAxF,CAA4F,OAAO,CAAC,QAApG,CAA6G,QAAQ,CAAEA,iBAAvH,EARJ,cAUI,cAAO,SAAS,CAAC,YAAjB,0BAVJ,CAYKD,MAAM,EAZX,GAlBJ,GAFJ,cAuCI,aAAK,SAAS,CAAC,aAAf,wBAEI,cAAO,SAAS,CAAC,YAAjB,kCAFJ,cAII,iBAAU,SAAS,CAAC,eAApB,CAAoC,IAAI,CAAC,aAAzC,CAAuD,EAAE,CAAC,kBAA1D,CAA6E,IAAI,CAAC,IAAlF,CAAuF,IAAI,CAAC,IAA5F,CAAiG,QAAQ,KAAzG,CAA0G,QAAQ,CAAEC,iBAApH,EAJJ,GAvCJ,cA+CI,YAAK,SAAS,CAAC,aAAf,uBAEI,eAAQ,SAAS,CAAC,kBAAlB,kBAFJ,EA/CJ,GAVJ,GADJ,CAoEH,CAED,OAAQP,IAAR"},"metadata":{},"sourceType":"module"}