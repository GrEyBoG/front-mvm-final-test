{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\usuario\\\\Desktop\\\\mvm\\\\finalTest\\\\frontend\\\\customer-support\\\\src\\\\views\\\\managerPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { ReactDOM } from \"react-dom\";\nimport { Route, Routes } from 'react-router-dom';\nimport { BrowserRouter } from 'react-router-dom'; //Styles\n\nimport style from '../styles/managerPage/table.css'; //Component\n\nimport { Header } from \"../managerComponents/Header\";\nimport { Background } from \"../managerComponents/Background\";\nimport { Table } from \"../managerComponents/Table\";\nimport { Description } from \"../managerComponents/Description\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ManagerPage() {\n  _s();\n\n  const [descriptionValue, setValueDescription] = useState('');\n  const [settledValue, setSettled] = useState('#');\n\n  const showDescription = (record, description, settled) => {\n    console.log(record.IDResponsable);\n    setSettled('# ' + settled);\n    setValueDescription(description);\n    console.log(description);\n    console.log(settled);\n  }; //API-GET-RESPONSIBLES\n\n\n  const recordsResponsiblesData = [];\n  const urlResponsibleList = 'http://localhost:5000/action/list/responsible';\n  const [responsibleRecords, setResponsibleRecords] = useState();\n\n  const fetchApiResponsibleList = async () => {\n    const response = await fetch(urlResponsibleList);\n    const data = await response.json();\n    setResponsibleRecords(data);\n  };\n\n  useEffect(() => {\n    fetchApiResponsibleList();\n  }, []);\n  const responsibleSeted = '';\n  responsibleRecords && responsibleRecords['data']['recordsets'][0].map(record => {\n    recordsResponsiblesData.push(record);\n  });\n  recordsResponsiblesData.push({\n    IDResponsable: null,\n    CorreoResponsable: 'Unasignned'\n  });\n  recordsResponsiblesData.unshift({\n    'CorreoResponsable': responsibleSeted\n  }); //API-GET-RERQUEST\n\n  const recordsRequestData = [];\n  const urlRequestList = 'http://localhost:5000/action/list/request';\n  const [requestRecords, setRequestRecords] = useState();\n\n  const fetchApiRequestList = async () => {\n    const response = await fetch(urlRequestList);\n    const data = await response.json();\n    setRequestRecords(data);\n  };\n\n  useEffect(() => {\n    fetchApiRequestList();\n  }, []);\n  requestRecords && requestRecords['data']['recordsets'][0].map(record => {\n    recordsRequestData.push(record);\n  });\n  recordsRequestData.map(record => {\n    if (record.IDEstado === 1) {\n      record.IDEstado = 'Pending';\n    } else if (record.IDEstado === 2) {\n      record.IDEstado = 'Assigned';\n    } else if (record.IDEstado === 3) {\n      record.IDEstado = 'Resolved';\n    }\n\n    if (record.FechaRespuesta != null) {\n      record.FechaRespuesta = record.FechaRespuesta;\n      record.FechaRespuesta = record.FechaRespuesta.substring(0, 10);\n    }\n\n    record.FechaSolicitud = record.FechaSolicitud.substring(0, 10);\n\n    if (record.IdTipoSolicitud === 1) {\n      record.IdTipoSolicitud = 'PQRS';\n    } else if (record.IdTipoSolicitud === 2) {\n      record.IdTipoSolicitud = 'News';\n    } else if (record.IdTipoSolicitud === 3) {\n      record.IdTipoSolicitud = 'Developments';\n    }\n\n    if (record.IDResponsable === 3) {\n      record.IDResponsable = 'Developer';\n    } else if (record.IDResponsable === 4) {\n      record.IDResponsable = 'Support';\n    } else if (record.IDResponsable === 5) {\n      record.IDResponsable = 'PQRS';\n    } else {\n      record.IDResponsable = 'Unassigned';\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      setSettled: setSettled,\n      setValueDescription: setValueDescription,\n      requestData: recordsRequestData,\n      responsibleData: recordsResponsiblesData,\n      responsibleSeted: responsibleSeted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Manager/Description\",\n        element: /*#__PURE__*/_jsxDEV(Description, {\n          descriptionValue: descriptionValue,\n          settledValue: settledValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 65\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ManagerPage, \"PlD5IJ36aFWhUBQ2nfFYK7YMahU=\");\n\n_c = ManagerPage;\nexport { ManagerPage };\n\nvar _c;\n\n$RefreshReg$(_c, \"ManagerPage\");","map":{"version":3,"names":["React","useEffect","useState","ReactDOM","Route","Routes","BrowserRouter","style","Header","Background","Table","Description","ManagerPage","descriptionValue","setValueDescription","settledValue","setSettled","showDescription","record","description","settled","console","log","IDResponsable","recordsResponsiblesData","urlResponsibleList","responsibleRecords","setResponsibleRecords","fetchApiResponsibleList","response","fetch","data","json","responsibleSeted","map","push","CorreoResponsable","unshift","recordsRequestData","urlRequestList","requestRecords","setRequestRecords","fetchApiRequestList","IDEstado","FechaRespuesta","substring","FechaSolicitud","IdTipoSolicitud"],"sources":["C:/Users/usuario/Desktop/mvm/finalTest/frontend/customer-support/src/views/managerPage.js"],"sourcesContent":["import React, {useEffect, useState}  from \"react\";\r\nimport { ReactDOM } from \"react-dom\";\r\nimport { Route, Routes } from 'react-router-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n//Styles\r\nimport style from '../styles/managerPage/table.css';\r\n\r\n//Component\r\n\r\nimport { Header } from \"../managerComponents/Header\";       \r\nimport { Background } from \"../managerComponents/Background\";\r\nimport { Table } from \"../managerComponents/Table\";\r\nimport { Description } from \"../managerComponents/Description\";\r\n\r\nfunction ManagerPage(){\r\n\r\n\r\n    const [descriptionValue, setValueDescription] = useState('');   \r\n\r\n    const [settledValue, setSettled] = useState('#');\r\n\r\n    const showDescription = (record, description, settled) => {\r\n        console.log(record.IDResponsable);\r\n        setSettled('# ' + settled);\r\n        setValueDescription(description);\r\n        console.log(description);\r\n        console.log(settled);\r\n    }\r\n\r\n\r\n\r\n\r\n    //API-GET-RESPONSIBLES\r\n\r\n\r\n    const recordsResponsiblesData = [];\r\n\r\n    const urlResponsibleList = 'http://localhost:5000/action/list/responsible';\r\n\r\n    const [responsibleRecords, setResponsibleRecords] = useState(); \r\n    const fetchApiResponsibleList = async () => {\r\n        const response = await fetch(urlResponsibleList);\r\n        const data = await response.json();\r\n        setResponsibleRecords(data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchApiResponsibleList();\r\n    }, []);\r\n\r\n    const responsibleSeted = '';\r\n\r\n    responsibleRecords && responsibleRecords['data']['recordsets'][0].map((record) => {\r\n        recordsResponsiblesData.push(record);\r\n    });\r\n    recordsResponsiblesData.push({IDResponsable: null, CorreoResponsable: 'Unasignned'});\r\n\r\n    \r\n\r\n    recordsResponsiblesData.unshift({'CorreoResponsable': responsibleSeted,});\r\n\r\n    \r\n    \r\n\r\n    //API-GET-RERQUEST\r\n\r\n    const recordsRequestData = [];\r\n\r\n    const urlRequestList = 'http://localhost:5000/action/list/request';\r\n\r\n    const [requestRecords, setRequestRecords] = useState();\r\n\r\n    const fetchApiRequestList = async () => {\r\n        const response = await fetch(urlRequestList);\r\n        const data = await response.json();\r\n        setRequestRecords(data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchApiRequestList();\r\n    }, []);  \r\n\r\n    requestRecords && requestRecords['data']['recordsets'][0].map((record) => {\r\n        recordsRequestData.push(record);\r\n    });\r\n\r\n\r\n    recordsRequestData.map((record) => {\r\n\r\n\r\n        if (record.IDEstado === 1) {\r\n            record.IDEstado = ('Pending');\r\n        } else if (record.IDEstado === 2) {\r\n            record.IDEstado = ('Assigned');\r\n        } else if (record.IDEstado === 3) {\r\n            record.IDEstado = ('Resolved');\r\n        }\r\n\r\n        if (record.FechaRespuesta != null) {\r\n            record.FechaRespuesta = record.FechaRespuesta;\r\n            record.FechaRespuesta = record.FechaRespuesta.substring(0, 10);\r\n        }\r\n\r\n        record.FechaSolicitud = record.FechaSolicitud.substring(0, 10);\r\n\r\n        if (record.IdTipoSolicitud === 1){\r\n            record.IdTipoSolicitud = ('PQRS');\r\n        } else if (record.IdTipoSolicitud === 2){\r\n            record.IdTipoSolicitud = ('News');\r\n        } else if (record.IdTipoSolicitud === 3){\r\n            record.IdTipoSolicitud = ('Developments');\r\n        }\r\n\r\n        if (record.IDResponsable === 3){\r\n            record.IDResponsable = ('Developer');\r\n        } else if (record.IDResponsable === 4){\r\n            record.IDResponsable = ('Support');\r\n        } else if (record.IDResponsable === 5){\r\n            record.IDResponsable = ('PQRS');\r\n        } else {\r\n            record.IDResponsable  = ('Unassigned');\r\n        }\r\n    });\r\n\r\n\r\n\r\n    return(\r\n        <React.Fragment>\r\n\r\n\r\n                <Header />\r\n\r\n                <Background />\r\n\r\n\r\n                <Table setSettled={setSettled} setValueDescription={setValueDescription} requestData={recordsRequestData} responsibleData={recordsResponsiblesData} responsibleSeted={responsibleSeted}/>\r\n            \r\n                <Routes>\r\n\r\n                    <Route path=\"/Manager/Description\" element={<Description descriptionValue={descriptionValue} settledValue={settledValue} />} />\r\n\r\n                </Routes>\r\n                \r\n\r\n\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\n\r\nexport {ManagerPage};"],"mappings":"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"},"metadata":{},"sourceType":"module"}